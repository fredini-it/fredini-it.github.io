import"./modulepreload-polyfill-B5Qt9EMX.js";function w(e){return e.split(`
`).map(n=>n.split(",")).slice(1).map(n=>({name:n[0].trim(),link:n[1].trim()}))}async function C(e){return new Promise(t=>{const n=new Image;n.onload=()=>t({width:n.width,height:n.height}),n.onerror=()=>t({width:0,height:0}),n.src=e})}const E=1520,p=2,m=6,v=.08;function I(){const e=window.innerWidth||document.documentElement.clientWidth||800,n=1+((window.devicePixelRatio||1)-1)*v,o=e*n/E;let s=Math.round(o*m);return s<p&&(s=p),s>m&&(s=m),s}function g(){const e=document.querySelector(".gallery.masonry");if(!e)return;const t=I();e.style.gridTemplateColumns=`repeat(${t}, 1fr)`}function b(e){const t=e.trim().match(/([\d.]+)\s*([a-z%]+)/i);if(!t)return parseFloat(e)||1;const n=parseFloat(t[1]);switch(t[2].toLowerCase()){case"px":return n;case"pt":return n*(96/72);default:return n}}function u(e){const t=document.querySelector(".masonry");if(!t)return;const n=window.getComputedStyle(t).getPropertyValue("grid-auto-rows")||"1px",a=b(n)||1,o=e.getBoundingClientRect().height,s=Math.ceil(o/a)||1;e.style.gridRowEnd=`span ${s}`}function y(){const e=document.getElementsByClassName("masonry-brick");for(let t=0;t<e.length;t++)u(e[t])}function M(){const e=document.getElementsByClassName("masonry-brick");for(let t=0;t<e.length;t++)imagesLoaded(e[t],n=>{u(n.elements[0])})}async function L(e){const t=document.getElementById("gallery"),n=e.map(o=>C(o.link)),a=await Promise.all(n);e.forEach((o,s)=>{const l=a[s],f=l.height/l.width*100,d=document.createElement("div");d.className=`poster-container masonry-brick ${l.width/l.height>1.2?"wide":""}`;const r=document.createElement("a");o.name==="render"?(r.href="/render.html",r.setAttribute("aria-label","Go to render")):(r.href=`/pin/${Math.floor(Math.random()*1e16)}/`,r.setAttribute("aria-label",`Página do Pin ${o.name}`)),r.tabIndex=0;const c=document.createElement("div");c.className="poster masonry-content",c.style.position="relative";const h=document.createElement("div");h.style.paddingBottom=`${f}%`,c.appendChild(h);const i=document.createElement("img");i.src=o.link,i.alt=o.name==="render"?"Link to render":`Contém uma imagem de: ${o.name}`,i.setAttribute("loading","lazy"),i.style.position="absolute",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%",i.style.objectFit="cover",c.appendChild(i),r.appendChild(c),d.appendChild(r),t.appendChild(d),u(d)}),g(),y(),M()}function P(){g(),y()}["load","resize"].forEach(e=>window.addEventListener(e,P));fetch("posters.csv").then(e=>e.text()).then(e=>{const t=w(e);L(t)}).catch(e=>console.error("Error loading CSV:",e));
