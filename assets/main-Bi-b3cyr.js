import"./modulepreload-polyfill-B5Qt9EMX.js";function p(e){return e.split(`
`).map(n=>n.split(",")).slice(1).map(n=>({name:n[0].trim(),link:n[1].trim()}))}async function y(e){return new Promise(t=>{const n=new Image;n.onload=()=>t({width:n.width,height:n.height}),n.onerror=()=>t({width:0,height:0}),n.src=e})}async function u(e){const t=document.getElementById("gallery"),n=e.map(i=>y(i.link)),c=await Promise.all(n);e.forEach((i,h)=>{const r=c[h],g=r.height/r.width*100,l=document.createElement("div");l.className=`poster-container masonry-brick ${r.width/r.height>1.2?"wide":""}`;const s=document.createElement("a");i.name==="render"?(s.href="/render.html",s.setAttribute("aria-label","Go to render")):(s.href=`/pin/${Math.floor(Math.random()*1e16)}/`,s.setAttribute("aria-label",`Página do Pin ${i.name}`)),s.tabIndex=0;const a=document.createElement("div");a.className="poster masonry-content",a.style.position="relative";const d=document.createElement("div");d.style.paddingBottom=`${g}%`,a.appendChild(d);const o=document.createElement("img");o.src=i.link,o.alt=i.name==="render"?"Link to render":`Contém uma imagem de: ${i.name}`,o.setAttribute("loading","lazy"),o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.objectFit="cover",a.appendChild(o),s.appendChild(a),l.appendChild(s),t.appendChild(l),m(l)}),f()}function m(e){const t=document.querySelector(".masonry"),n=parseFloat(window.getComputedStyle(t).getPropertyValue("grid-auto-rows"))||1,c=e.getBoundingClientRect().height,i=Math.ceil(c/n)||1;e.style.gridRowEnd=`span ${i}`}function w(){const e=document.getElementsByClassName("masonry-brick");for(let t=0;t<e.length;t++)m(e[t])}function f(){const e=document.getElementsByClassName("masonry-brick");for(let t=0;t<e.length;t++)imagesLoaded(e[t],n=>{m(n.elements[0])})}["load","resize"].forEach(e=>window.addEventListener(e,w));fetch("posters.csv").then(e=>e.text()).then(e=>{const t=p(e);u(t)}).catch(e=>console.error("Error loading CSV:",e));
