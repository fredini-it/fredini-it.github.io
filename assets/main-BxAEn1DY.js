import"./modulepreload-polyfill-B5Qt9EMX.js";function f(e){return e.split(`
`).map(n=>n.split(",")).slice(1).map(n=>({name:n[0].trim(),link:n[1].trim()}))}async function C(e){return new Promise(t=>{const n=new Image;n.onload=()=>t({width:n.width,height:n.height}),n.onerror=()=>t({width:0,height:0}),n.src=e})}const h=2,g=6,E=200;function b(){const e=window.innerWidth||document.documentElement.clientWidth||800;if((window.innerHeight||document.documentElement.clientHeight||600)>=e&&e<=600)return 2;let o=Math.round(e/E);return o<h&&(o=h),o>g&&(o=g),o}function p(){const e=document.querySelector(".gallery.masonry");if(!e)return;const t=b();e.style.gridTemplateColumns=`repeat(${t}, 1fr)`}function v(e){const t=e.trim().match(/([\d.]+)\s*([a-z%]+)/i);if(!t)return parseFloat(e)||1;const n=parseFloat(t[1]);switch(t[2].toLowerCase()){case"px":return n;case"pt":return n*(96/72);default:return n}}function d(e){const t=document.querySelector(".masonry");if(!t)return;const n=window.getComputedStyle(t).getPropertyValue("grid-auto-rows")||"1px",o=v(n)||1,r=e.getBoundingClientRect().height,m=Math.ceil(r/o)||1;e.style.gridRowEnd=`span ${m}`}function y(){const e=document.getElementsByClassName("masonry-brick");for(let t=0;t<e.length;t++)d(e[t])}function I(){const e=document.getElementsByClassName("masonry-brick");for(let t=0;t<e.length;t++)imagesLoaded(e[t],n=>{d(n.elements[0])})}async function M(e){const t=document.getElementById("gallery"),n=e.map(r=>C(r.link)),o=await Promise.all(n);e.forEach((r,m)=>{const c=o[m],w=c.height/c.width*100,l=document.createElement("div");l.className=`poster-container masonry-brick ${c.width/c.height>1.2?"wide":""}`;const s=document.createElement("a");r.name==="render"?(s.href="/render.html",s.setAttribute("aria-label","Go to render")):(s.href=`/pin/${Math.floor(Math.random()*1e16)}/`,s.setAttribute("aria-label",`Página do Pin ${r.name}`)),s.tabIndex=0;const a=document.createElement("div");a.className="poster masonry-content",a.style.position="relative";const u=document.createElement("div");u.style.paddingBottom=`${w}%`,a.appendChild(u);const i=document.createElement("img");i.src=r.link,i.alt=r.name==="render"?"Link to render":`Contém uma imagem de: ${r.name}`,i.setAttribute("loading","lazy"),i.style.position="absolute",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%",i.style.objectFit="cover",a.appendChild(i),s.appendChild(a),l.appendChild(s),t.appendChild(l),d(l)}),p(),y(),I()}function L(){p(),y()}["load","resize"].forEach(e=>window.addEventListener(e,L));fetch("posters.csv").then(e=>e.text()).then(e=>{const t=f(e);M(t)}).catch(e=>console.error("Error loading CSV:",e));
