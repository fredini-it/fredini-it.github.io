import"./modulepreload-polyfill-B5Qt9EMX.js";function u(e){return e.split(`
`).map(n=>n.split(",")).slice(1).map(n=>({name:n[0].trim(),link:n[1].trim()}))}async function p(e){return new Promise(t=>{const n=new Image;n.onload=()=>t({width:n.width,height:n.height}),n.onerror=()=>t({width:0,height:0}),n.src=e})}async function y(e){const t=document.getElementById("gallery"),n=e.map(i=>p(i.link)),r=await Promise.all(n);e.forEach((i,m)=>{const c=r[m],g=c.height/c.width*100,l=document.createElement("div");l.className=`poster-container masonry-brick ${c.width/c.height>1.2?"wide":""}`;const s=document.createElement("a");i.name==="render"?(s.href="/render.html",s.setAttribute("aria-label","Go to render")):(s.href=`/pin/${Math.floor(Math.random()*1e16)}/`,s.setAttribute("aria-label",`Página do Pin ${i.name}`)),s.tabIndex=0;const a=document.createElement("div");a.className="poster masonry-content",a.style.position="relative";const h=document.createElement("div");h.style.paddingBottom=`${g}%`,a.appendChild(h);const o=document.createElement("img");o.src=i.link,o.alt=i.name==="render"?"Link to render":`Contém uma imagem de: ${i.name}`,o.setAttribute("loading","lazy"),o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.objectFit="cover",a.appendChild(o),s.appendChild(a),l.appendChild(s),t.appendChild(l),d(l)}),C()}function w(e){const t=e.trim().match(/([\d.]+)\s*([a-z%]+)/i);if(!t)return parseFloat(e)||1;const n=parseFloat(t[1]);switch(t[2].toLowerCase()){case"px":return n;case"pt":return n*(96/72);default:return n}}function d(e){const t=document.querySelector(".masonry"),n=window.getComputedStyle(t).getPropertyValue("grid-auto-rows")||"1px",r=w(n)||1,i=e.getBoundingClientRect().height,m=Math.ceil(i/r)||1;e.style.gridRowEnd=`span ${m}`}function f(){const e=document.getElementsByClassName("masonry-brick");for(let t=0;t<e.length;t++)d(e[t])}function C(){const e=document.getElementsByClassName("masonry-brick");for(let t=0;t<e.length;t++)imagesLoaded(e[t],n=>{d(n.elements[0])})}["load","resize"].forEach(e=>window.addEventListener(e,f));fetch("posters.csv").then(e=>e.text()).then(e=>{const t=u(e);y(t)}).catch(e=>console.error("Error loading CSV:",e));
