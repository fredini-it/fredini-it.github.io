import"./modulepreload-polyfill-B5Qt9EMX.js";function p(e){return e.split(`
`).map(n=>n.split(",")).slice(1).map(n=>({name:n[0].trim(),link:n[1].trim()}))}async function y(e){return new Promise(t=>{const n=new Image;n.onload=()=>t({width:n.width,height:n.height}),n.onerror=()=>t({width:0,height:0}),n.src=e})}async function u(e){const t=document.getElementById("gallery"),n=e.map(i=>y(i.link)),c=await Promise.all(n);e.forEach((i,m)=>{const a=c[m],g=a.height/a.width*100,l=document.createElement("div");l.className=`poster-container masonry-brick ${a.width/a.height>1.2?"wide":""}`;const r=document.createElement("a");i.name==="render"?(r.href="/render.html",r.setAttribute("aria-label","Go to render")):(r.href=`/pin/${Math.floor(Math.random()*1e16)}/`,r.setAttribute("aria-label",`Página do Pin ${i.name}`)),r.tabIndex=0;const s=document.createElement("div");s.className="poster masonry-content",s.style.position="relative";const h=document.createElement("div");h.style.paddingBottom=`${g}%`,s.appendChild(h);const o=document.createElement("img");o.src=i.link,o.alt=i.name==="render"?"Link to render":`Contém uma imagem de: ${i.name}`,o.setAttribute("loading","lazy"),o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.objectFit="cover",s.appendChild(o),r.appendChild(s),l.appendChild(r),t.appendChild(l),d(l)}),f()}function d(e){const t=document.querySelector(".masonry"),n=parseInt(window.getComputedStyle(t).getPropertyValue("grid-row-gap")),c=parseInt(window.getComputedStyle(t).getPropertyValue("grid-auto-rows")),i=e.querySelector(".masonry-content").getBoundingClientRect().height,m=Math.ceil((i+n)/(c+n))||1;e.style.gridRowEnd=`span ${m}`}function w(){const e=document.getElementsByClassName("masonry-brick");for(let t=0;t<e.length;t++)d(e[t])}function f(){const e=document.getElementsByClassName("masonry-brick");for(let t=0;t<e.length;t++)imagesLoaded(e[t],n=>{d(n.elements[0])})}["load","resize"].forEach(e=>window.addEventListener(e,w));fetch("posters.csv").then(e=>e.text()).then(e=>{const t=p(e);u(t)}).catch(e=>console.error("Error loading CSV:",e));
